(()=>{"use strict";function e(e){e.classList.add("pop-up_opened"),document.addEventListener("keydown",n)}function t(e){e.classList.remove("pop-up_opened"),document.removeEventListener("keydown",n)}function n(e){var n=document.querySelectorAll(".pop-up"),o=Array.from(n).find((function(e){return e.classList.contains("pop-up_opened")}));"Escape"===e.key&&t(o)}function o(e){e.target.closest(".element").remove()}function r(e){e.target.closest(".element").querySelector(".element__like").classList.toggle("element__like_active")}function c(t){var n=t.target.closest(".element"),o=n.querySelector(".element__image"),r=n.querySelector(".element__text"),c=document.querySelector(".pop-up__image"),u=document.querySelector(".pop-up__caption");e(document.querySelector(".pop-up__zoom")),c.src=o.src,c.alt=r.name,u.textContent=r.textContent}function u(e,t,n,o){var r=document.querySelector("#templateElement").content.querySelector(".element").cloneNode(!0),c=r.querySelector(".element__image"),u=r.querySelector(".element__text"),l=r.querySelector(".element__like"),a=r.querySelector(".element__trash");return c.src=e.link,c.alt=e.name,u.textContent=e.name,c.addEventListener("click",o),a.addEventListener("click",t),l.addEventListener("click",n),r}var l=document.querySelector(".profile__edit-button"),a=document.querySelector(".profile__add-button"),d=document.querySelector(".pop-up__edit"),s=document.querySelector(".pop-up__add"),p=(document.querySelector(".pop-up__zoom"),document.querySelectorAll(".pop-up")),i=document.querySelector(".edit"),m=document.querySelector(".name"),_=document.querySelector(".caption"),y=document.querySelector(".profile__name"),v=document.querySelector(".profile__caption"),f=document.querySelector(".title"),k=document.querySelector(".link"),q=document.querySelector(".elements");function S(e){q.prepend(e)}p.forEach((function(e){!function(e){e.addEventListener("click",(function(e){var n=e.target===e.currentTarget,o=e.target.classList.contains("pop-up__close-button");(n||o)&&t(e.currentTarget)}))}(e)})),[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}].reverse().forEach((function(e){S(u(e,o,r,c))})),l.addEventListener("click",(function(){e(d),m.value=y.textContent,_.value=v.textContent})),i.addEventListener("submit",(function(e){e.preventDefault(),y.textContent=m.value,v.textContent=_.value,m.value="",_.value="",t(d)})),a.addEventListener("click",(function(){return e(s)})),s.addEventListener("submit",(function(e){e.preventDefault(),S(u({name:f.value,link:k.value},o,r,c)),f.value="",k.value="",t(s)}))})();